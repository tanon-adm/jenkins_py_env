def retrievePass() {
    withCredentials([usernamePassword(credentialsId: 'tech_user', passwordVariable: 'PASS', usernameVariable: 'USER')]) {
        return PASS
    }
}

pipeline {
    agent any
    stages {
        stage('Calling the cmd-script') { 
            environment {
                PASSWORD = retrievePass()
            }
            steps { 
                script {
                    Common.CallScript('script.bat')
                } 
            } 
        }
    }
}